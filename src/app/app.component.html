<div class="app-container flex">
  <!-- Mobile Menu Button -->
  <button
    class="mobile-menu-button"
    (click)="sidebar.toggleMobileMenu()"
    aria-label="Toggle mobile menu"
  >
    @if (!sidebar.isMobileMenuOpen) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 text-gray-700"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
        />
      </svg>
    }
    @if (sidebar.isMobileMenuOpen) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 text-gray-700"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    }
  </button>

  <!-- Mobile Backdrop Overlay -->
  @if (sidebar.isMobileMenuOpen) {
    <div
      class="lg:hidden fixed inset-0 z-30 bg-gray-900/50 backdrop-blur-sm"
      (click)="sidebar.closeMobileMenu()"
      aria-hidden="true"
    ></div>
  }

  <!-- Sidebar Container -->
  <div
    class="fixed lg:relative inset-y-0 left-0 z-40 w-80 lg:w-auto lg:min-w-[20rem] lg:max-w-[22rem] transform transition-transform duration-300 ease-in-out lg:transform-none"
    [class.translate-x-0]="sidebar.isMobileMenuOpen"
    [class.-translate-x-full]="!sidebar.isMobileMenuOpen"
    #sidebarRef
  >
    <div
      class="h-full overflow-y-auto bg-white shadow-xl lg:shadow-none border-r border-gray-200"
    >
      <app-sidebar #sidebar />
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="flex-1 flex flex-col min-w-0 lg:ml-0">
    <!-- Main Content Wrapper -->
    <main class="flex-1 relative overflow-y-auto focus:outline-none">
      <div class="py-6 lg:py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <!-- Content padding for mobile menu button -->
          <div class="lg:hidden h-12"></div>

          <!-- Home Component -->
          <div class="mb-8">
            <app-home />
          </div>

          <!-- Router Outlet -->
          <div class="max-w-4xl mx-auto">
            <router-outlet />
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
